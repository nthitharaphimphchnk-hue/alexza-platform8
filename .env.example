# Copy to .env.local and fill in values

# Auth (required for signup/login)
SESSION_SECRET="your_session_secret"

# Dev-only: seed user (scripts/seed-dev-user.ts, NODE_ENV != production)
# DEV_SEED_EMAIL="dev@example.com"
# DEV_SEED_PASSWORD="devpassword123"

# MongoDB
MONGODB_URI="mongodb://..."
MONGODB_DB="alexza"

# Production auth / Render
NODE_ENV="production"
CLIENT_URL="https://your-app.onrender.com"
# For local dev with separate client: APP_URL="http://localhost:5173" (optional)
# APP_URL="https://your-app.onrender.com"
# CORS_ORIGIN="https://your-app.onrender.com"  # alternative to CLIENT_URL
TRUST_PROXY=1
SESSION_COOKIE_NAME="alexza_session"

# Builder AI
OPENAI_API_KEY="..."
BUILDER_MODEL="gpt-4o-mini"

# Execution (ALEXZA Managed Runtime)
OPENROUTER_API_KEY="..."
OPENROUTER_BASE_URL=""  # optional
EXECUTION_DEFAULT_MODEL=""  # optional
UPSTREAM_TIMEOUT_MS=30000  # optional, default 30s

# Rate limits (optional)
RATE_LIMIT_FREE_PER_MIN=30
RATE_LIMIT_PRO_PER_MIN=120
RATE_LIMIT_IP_PER_MIN=60

# Frontend build (Vite)
VITE_API_BASE_URL=""  # optional when same domain
# Dev manual top-up: set to match ADMIN_API_KEY to enable Add Credits on /app/billing/credits
# VITE_ADMIN_TOPUP_KEY=""

# Stripe (wallet top-up)
STRIPE_SECRET_KEY="sk_test_your_secret_key_here"
STRIPE_WEBHOOK_SECRET="whsec_your_webhook_secret_here"
APP_URL="http://localhost:5173"

# Backend
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0
SENTRY_RELEASE=              # optional; else RENDER_GIT_COMMIT/GIT_SHA/COMMIT_SHA, else dev-local
RENDER_GIT_COMMIT=           # optional; used for release when SENTRY_RELEASE not set
GIT_SHA=                     # optional; used for release when SENTRY_RELEASE not set
COMMIT_SHA=                  # optional; used for release when SENTRY_RELEASE not set
# Frontend
VITE_SENTRY_DSN=
VITE_SENTRY_ENVIRONMENT=development
VITE_SENTRY_TRACES_SAMPLE_RATE=0.1
VITE_SENTRY_RELEASE=         # optional; else VITE_GIT_SHA, else dev-local
VITE_GIT_SHA=                # optional; used for release when SENTRY_RELEASE not set
# Sourcemap upload (build-time only; build succeeds without these)
SENTRY_AUTH_TOKEN=           # from Sentry org auth tokens
SENTRY_ORG=                  # Sentry org slug
SENTRY_PROJECT=              # Sentry frontend project slug

# Slow request threshold (ms) - log + Sentry breadcrumb when exceeded
SLOW_REQUEST_MS=2000
